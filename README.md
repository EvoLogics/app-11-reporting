# APP-11(E) Report Scripts

This repository contains a python script that helps with the creation of APP-11(E) reports for the REPMUS 2023 exercise.

> [!WARNING]  
> This script was created very quickly and with a very limited understanding of the APP-11(E) specification.
> It very likely contains some inaccuracies or bugs.
> It definitely contains some rather sketchy simplifications and quick workarounds.
> It is a good idea to check that the reports generated by the script are correct, and to make corrections where necessary.

> [!WARNING]  
> This script has only been tested on Linux Debian 11 (Bullseye) - it is unlikely it will work properly on other platforms without requiring some modifications.

> [!NOTE]  
> This script was created for EvoLogics GmbH use.
> As such, it is tailored to the data formats we use internally, and it is probably not useful to external users in its current form.


## Setup

You will need Python 3.6 or greater with the following libraries:

- [argparse](https://docs.python.org/3/library/argparse.html)
- [configparser](https://docs.python.org/3/library/configparser.html)
- [csv](https://docs.python.org/3/library/csv.html)


## How it works

The script uses data contained in 3 files to generate the output (see `sample/` for an example):

- `parameters.ini`:<br>
   Contains general information about the reports you wish to generate (originator ID, message serial numbers, detection probabilities, etc...)
- `EstimatedState.csv`:<br>
   Contains data about the state of the vehicle during the survey.
   This format is specific to [LSTS DUNE](https://github.com/LSTS/dune), and is created when the `EstimatedState` logs are exported as csv file in [Neptus](https://github.com/LSTS/neptus).
- `Mines.csv`:<br>
   Contains data about the mine detections during the survey.


## How to use

1. Create a directory in which you wish the reports to be generated.
1. Add the `parameters.ini`, `EstimatedState.csv` and `Mines.csv` files containing the decription of your data (as described above) to this directory.
   If you do not have EsimatedState or Mines data, create empty files.
1. Run the script `generate.py` with as arguments (see also `-h` for details):
    1. the type of report you want to create.
    1. the path of the directory you just created.

After running the script, the report(s) should be generated in the directory you created.
For example, the following will generate a `CPT` (complete) report in the `~/tmp` directory:
```
$ generate.py -t complete -d ~/tmp
```

